<template name="editProfile">
{{#if hasPermission}}
  <style>
    img {
      display: block;

      /* This rule is very important, please don't ignore this */
      max-width: 100%;
    }
  </style>
  
  <div class="container text-center">
    <h1 class="h1-title">EDITA TU PERFIL DE CREW</h1>
    <h2>{{fullName}}</h2>
    <hr>
  </div>


  {{#if currentUser}}
  <div class="container">
    <div class="row">
      <div class="col-lg-3 rounded background-verylightgray p-3">
        <div class="sticky-top">
          <div class="row">
            <div class="col d-flex justify-content-center">
              {{#if getProfilePicture}}
              <img src="{{getProfilePicture}}"/>
              {{else}}
              <div id="profileImageLarge">{{getInitials}}</div>
              {{/if}}
            </div>
          </div>
          <div class="row">
            <div class="col text-14 text-purple text-center">
              <a href="#" class="text-purple" id="openMediaGallery">Cambiar <i class="fa fa-pencil"></i></a>
            </div>
          </div>
          <div class="spacer20"></div>
          <div class="row">
            <div class="col text-center text-16">
              <strong>¡Te damos la bienvenida, {{name}}!</strong>
            </div>
          </div>
          <div class="spacer40"></div>
          <div><hr></div>
          <div class="row">
            <div class="col text-14">
              <a href="#" class="text-purple" id="goProfile"><i class="fa fa-eye"></i> Tu perfil</a>    
            </div>
          </div>
          {{#if hasTopRole}}
          <div class="spacer10"></div>
          <div class="row">
            <div class="col text-14">
              <a href="/viewProjects/{{currentUser._id}}" class="text-purple" id=""><i class="fa fa-briefcase"></i> Tus proyectos</a>
            </div>
          </div>
          <div class="spacer10"></div>
          <div class="row">
            <div class="col text-14">
              <a href="/viewIndustries/{{currentUser._id}}" class="text-purple" id=""><i class="fa fa-building"></i> Tus empresas</a>
            </div>
          </div>
          {{/if}}
          <div class="spacer10"></div>
          <div class="row">
            <div class="col text-14">
              <a href="/mediaEditorObject/{{currentUser._id}}/crew/{{currentUser._id}}/global" class="text-purple" id=""><i class="fa fa-camera"></i> Tus imágenes</a>
            </div>
          </div>
          {{#if showCreateCastLink}}
          <div class="spacer10"></div>
          <div class="row">
            <div class="col text-14">
              <a href="#" class="text-purple" data-toggle="modal" data-target="#castModal"><i class="fa fa-user"></i> Crear perfil de cast</a>
            </div>
          </div>
          {{/if}}
          <div class="spacer40"></div>
          <div><hr></div>
          <div class="row">
            <div class="col text-14">Portada <a href="#" class="text-purple" id="openMediaCover">Cambiar <i class="fa fa-pencil"></i></a></div>
          </div>
          <div class="row">
            <div class="col">
              {{#if getCoverPicture}}
              <img id="image" src="{{getCoverPicture}}" class="thumbnail-project"/>
              {{else}}
              <img id="image" src="/images/c4.jpg" class="thumbnail-project"/>
              {{/if}}
            </div>
          </div>
          
        </div>
      </div>
      <div class="col-lg-9">
        <div class="container">
          <div class="row">
            <!-- Inicia contenido -->
            <div class="col-md-12">
              <div class="spacer40"></div>
              <div class="row">
                <div class="col">
                  <h2>Datos personales</h2>
                </div>
              </div>
              <div class="spacer40"></div>
              <div class="row">
                <div class="col form-group">
                  <label for="nombre">Nombre <span class="text-purple">(Requerido)</span></label>
                  <input type="text" class="form-control" id="personName" placeholder="Nombres" value="{{name}}" maxlength="30">
                </div>
                <div class="col form-group">
                  <label for="nombre">Primer Apellido <span class="text-purple">(Requerido)</span></label>
                  <input type="text" class="form-control" id="personLastName" placeholder="Apellido paterno" value="{{lastname}}" maxlength="20">
                </div>
                <div class="col form-group">
                  <label for="nombre">Segundo Apellido </label>
                  <input type="text" class="form-control" id="personLastName2" placeholder="Apellido materno" value="{{lastname2}}" maxlength="20">
                </div>
              </div>
              <div class="spacer20"></div>
              <div class="row">
                <div class="col form-group">
                  <label for="resumen">Acerca de </label>
                  <textarea class="form-control" rows="5" id="resume" value="" placeholder="Cuéntanos de ti ({{maxLength}} caracteres máx)." maxlength="{{maxLength}}">{{resume}}</textarea><small>Caracteres restantes: <div id="max"></div></small>
                </div>
              </div>
              <div class="spacer40"></div>
              <div class="row">
                <div class="col">
                  <h2>Ubicación</h2>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label for="country">País <span class="text-purple">(Requerido)</span></label>
                  <select name="country" id="country" class="form-control">
                    {{#each getCountries}}
                    <option value="{{country}}" {{countrySelected country}}> {{country}} </option>
                    {{/each}}
                  </select>
                </div>
                <div class="col-md-4">
                  <label for="state">Estado <span class="text-purple">(Requerido)</span></label>
                  <select name="state" id="states" class="form-control">
                    {{#each getStatesFromCountries}}
                    <option value="{{state}}" {{stateSelected state}}> {{state}} </option>
                    {{/each}}
                  </select>  
                </div>
                <div class="col-md-4">
                  <label for="city">Ciudad <span class="text-purple">(Requerido)</span></label>
                  <select name="city" id="city" class="form-control">
                    {{#each getCitiesFromStates}}
                    <option value="{{city}}" {{citySelected city}}> {{city}} </option>
                    {{/each}}
                  </select>  
                </div>
              </div>
              <div class="spacer40"></div>
              <div class="row">
                <div class="col">
                  <h2>Roles</h2>
                </div>
              </div>
              {{#if hasPrimaryRole}}
              <!--
              <div class="row">
                <div class="col-lg-12">
                  Tus roles primarios son: <strong>{{getPrimaryRoles}}</strong>
                </div>
              </div>-->
              {{/if}}
              <div class="spacer20"></div>
              <div class="row">
                <div class="col-md-12">

                  <p>A continuación puedes seleccionar tus roles:</p>
                  <small>
                    <ul>
                      <li>En la lista de la izquierda, selecciona el departamento al cual pertenece tu rol.</li>
                      <li>En el recuadro de la derecha, haz clic sobre el rol para agregarlo a tu perfil.</li> 
                      <li>Puedes seleccionar tantos roles como quieras.</li> 
                    </ul>
                  </small>
                </div>
              </div>

              <div class="spacer20"></div>
              <div class="row">
                <div class="col-md-6">
                  <label for="oc">Departamentos </label>
                  <select name="category" id="category" class="form-control">
                    {{#each getCategories}}
                    <option value="{{this}}"> {{this}} </option>
                    {{/each}}
                  </select>
                </div>
                <div class="col-md-6">
                  <label for="Ocupation">Roles <span class="text-purple">(Selecciona con un clic)</span></label>
                  <select multiple name="Ocupation" id="ocupation" class="form-control">
                    {{#each item in getOcupationsFromCategory}}
                    <option value="{{item.roleId}}" {{roleSelected secondary}}> {{item.roleName}} </option>
                    {{/each}}
                  </select>  
                </div>
              </div>
              <div class="spacer20"></div>
              <div class="row">
                <div class="col-md-12">
                  <label for="Ocupation">Roles que has seleccionado <span class="text-purple">(Elimina haciendo clic)</span></label>
                  <select name="Selection" multiple id="selection" class="form-control">
                    {{#each item in getRolesSelected}}
                    <option value="{{item.roleId}}" {{roleSelected item}}> {{item.roleName}} </option>
                    {{/each}}
                  </select>  
                </div>
              </div>

              <div class="spacer40"></div>

              <div class="row">
                <div class="col">
                  <h2>En internet</h2>
                </div>
              </div>
              <div class="row">
                <div class="col form-group">
                  <label for="web">Tu página Web personal</label>
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="fa fa-globe"></i></div>
                    </div>
                    <input type="text" class="form-control" id="web_page" value="{{webpage}}" placeholder="Ej: www.cinekomuna.com" maxlength="120">
                  </div>
                </div>
              </div>   
              <div class="spacer20"></div>
              <div class="row">
                <div class="col-lg-8 form-group">
                  <label for="nombre">Video de muestra / demo </label>
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="fa fa-play"></i></div>
                    </div>
                    <input type="text" class="form-control" id="video" placeholder="URL de youtube o vimeo" value="{{video}}" maxlength="150">
                  </div>
                </div>
              </div>
              <div class="spacer20"></div>
              <div class="row">
                <div class="col form-group">
                  <label for="">En la red <br> <small>Vincula tus cuentas de otros sitios en la red</small></label>
                </div>
              </div>
              <div class="row">
                <div class="col form-group">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="fa fa-facebook"></i></div>
                    </div>
                    <input type="text" class="form-control" id="facebook_page" value="{{facebook}}" placeholder="Ej. www.facebook.com/cinekomuna" maxlength="120">
                  </div>
                </div>
              </div>
              <div class="spacer10"></div>
              <div class="row">
                <div class="col form-group">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="fa fa-twitter"></i></div>
                    </div>
                    <input type="text" class="form-control" id="twitter_page" value="{{twitter}}" placeholder="Ej. www.twitter.com/cinekomuna" maxlength="120">
                  </div>
                </div>
              </div>
              <div class="spacer10"></div>
              <div class="row">
                <div class="col form-group">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="fa fa-vimeo"></i></div>
                    </div>
                    <input type="text" class="form-control" id="vimeo_page" value="{{vimeo}}" placeholder="Ej. www.vimeo.com/cinekomuna" maxlength="120">
                  </div>
                </div>
              </div>
              <div class="spacer10"></div>
              <div class="row">
                <div class="col form-group">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="fa fa-youtube"></i></div>
                    </div>
                    <input  type="text" class="form-control" id="youtube_page" value="{{youtube}}" placeholder="Ej. www.youtube.com/cinekomuna" maxlength="120">
                  </div>
                </div>
              </div>
              <div class="spacer10"></div>
              <div class="row">
                <div class="col form-group">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="fa fa-instagram"></i></div>
                    </div>
                    <input type="text" class="form-control" id="instagram_page" value="{{instagram}}" placeholder="Ej. www.instagram.com/cinekomuna" maxlength="120">
                  </div>
                </div>
              </div>
              <div class="spacer10"></div>
              <div class="row">
                <div class="col form-group">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="fa fa-imdb"></i></div>
                    </div>
                    <input type="text" class="form-control" id="imdb_page" value="{{imdbCrew}}" placeholder="Ej. www.imdb.com/cinekomuna" maxlength="120">
                  </div>
                </div>
              </div>
              <div class="spacer40"></div>
              <div class="row">
                <div class="col">
                  <button class="btn btn-purple" id="save">Guardar</button>
                  <button class="btn btn-purple" id="saveAndPublish">Guardar y publicar</button>
                </div>
              </div>
            </div>
            <!-- Termina contenido -->
          </div>
        </div>
      </div>
    </div>
  </div>

   



   <!--Modal: Name-->
   <div class="modal fade" id="modal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">

      <!--Content-->
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Elige tu foto de perfil</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <!--Body-->
        <div class="modal-body">

          <div class="container">
            <div class="row">
              <div class="col-lg-12 text-center">
                <label class="custom-file-upload">
                  <input type="file"/>
                  <span class="btn btn-purple btn-rounded">Cargar foto &nbsp;<i class="fa fa-upload"></i></span>
                </label>
              </div>
            </div>
            {{#if hasMedia}}
            <div class="row background-verylightgray light-padding">
              {{#each getMedia}}
              <div class="col-lg-3 col-sm-6 align-self-center">
                <a href="#" id="selectProfilePicture" data-id="{{this.mediaId}}"><img class="media-thumb z-depth-1" src="{{this.media_url}}" alt="image" id="{{this._id}}"></a>
              </div>
              {{/each}}
            </div>
            {{else}}
            <div class="spacer20"></div>
            <div class="row">
              <div class="col">
                Tu biblioteca de imágenes está vacía. Agrega imágenes antes de usarlas.
              </div>
            </div>
            <div class="spacer20"></div>
            <div class="row">
              <div class="col text-center">
                <button class="btn btn-purple goMediaLibraryProfile">Ir a biblioteca de imágenes</button>
              </div>
            </div>
            {{/if}}
          </div>
        </div>
        <!--Footer-->
        <div class="modal-footer justify-content-center">
          <div class="row">
            <div class="col-lg-6">
              <a href="#" class="btn btn-purple disabled" id="setProfilePicture" data-id="{{this.mediaId}}">Establecer como foto de perfil</a>
            </div>
            <!--<div class="col-lg-5"><button type="button" class="btn btn-purple btn-rounded goMediaLibraryProfile" data-dismiss="modal">Agregar más imágenes</button></div>-->
            <!--<div class="col-lg-5"><input type="file" name="profile" id="nuestroinput"></div>-->
            
            <div class="col-lg-2">&nbsp;</div>
            <div class="col-lg-4"><button type="button" class="btn btn-purple btn-rounded" data-dismiss="modal">Cerrar</button></div>
            
          </div>
        </div>
      </div>
      <!--/.Content-->
    </div>
  </div>
  <!--Modal: Name-->

  <!--Modal: Name-->
  <div class="modal fade" id="modal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">

      <!--Content-->
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Elige tu foto de portada</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <!--Body-->
        <div class="modal-body">

          <div class="container">
            <div class="row">
              <div class="col-lg-12 text-center">
                <label class="custom-file-upload">
                  <input type="file"/>
                  <span class="btn btn-purple btn-rounded">Cargar foto &nbsp;<i class="fa fa-upload"></i></span>
                </label>
              </div>
            </div>
            {{#if hasMedia}}
            <div class="row background-verylightgray light-padding">
              {{#each getMedia}}
              <div class="col-lg-3 col-sm-6 align-self-center">
                <a href="#" id="selectCoverPicture" data-id="{{this.mediaId}}"><img class="media-thumb z-depth-1" src="{{this.media_url}}" alt="image" id="{{this._id}}"></a>
              </div>
              {{/each}}
            </div>
            {{else}}
            <div class="spacer20"></div>
            <div class="row">
              <div class="col">
                Tu biblioteca de imágenes está vacía. Agrega imágenes antes de usarlas.
              </div>
            </div>
            <div class="spacer20"></div>
            <div class="row">
              <div class="col text-center">
                <button class="btn btn-purple goMediaLibraryCover">Ir a biblioteca de imágenes</button>
              </div>
            </div>
            {{/if}}
          </div>


        </div>

        <!--Footer-->
        <div class="modal-footer justify-content-center">
          <div class="row">
            <div class="col-lg-6">
              <a href="#" class="btn btn-purple disabled" id="setCoverPicture" data-id="{{this.mediaId}}">Establecer como foto de portada</a>
            </div>
            <!--<div class="col-lg-5"><button type="button" class="btn btn-purple btn-rounded goMediaLibraryProfile" data-dismiss="modal">Agregar más imágenes</button></div>-->
            <!--<div class="col-lg-5"><input type="file" name="profile" id="nuestroinput"></div>-->
            
            <div class="col-lg-2">&nbsp;</div>
            <div class="col-lg-4"><button type="button" class="btn btn-purple btn-rounded" data-dismiss="modal">Cerrar</button></div>
            
          </div>
        </div>

      </div>
      <!--/.Content-->

    </div>
  </div>
  <!--Modal: Name-->

<!--Modal: Name-->
  <div class="modal fade" id="castModal" tabindex="-1" role="dialog" aria-labelledby="castModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <!--Content-->
      <div class="modal-content">
        <!--Body-->
        <div class="modal-body">
          <div class="container">
            <div class="row">
              <div class="col text-center">¿Quieres crear un perfil de Cast?</div>
            </div>
            <div class="row">
              <div class="col"><div class="spacer40"></div></div>
            </div>
            <div class="row">
              <div class="col"><small>Actualmente eres <strong>Crew</strong>, si agregas un perfil de Cast deberás llenar información sobre tus características físicas, y agregar una galería de fotos. Aparecerás en el buscador de Cast, para que otras personas puedan invitarte a participar como <strong>Actor, Modelo, Extra, Cantante, Bailarín o Doble</strong>, en sus proyectos.</small>
              </div>
            </div>
            <div class="row">
              <div class="col"><div class="spacer40"></div></div>
            </div>
          </div>
        </div>
        <!--Footer-->
        <div class="modal-footer justify-content-center">
          <div class="row">
            <div class="col">
              <button type="button" class="btn btn-purple" id="addCastProfile">Sí, quiero agregar un perfil de cast</button>
              <button class="btn btn-purple" data-dismiss="modal">En otro momento</button>
            </div>
          </div>
        </div>
      </div>
      <!--/.Content-->
    </div>
  </div>
  <!--Modal: Name-->

  <div class="modal modal-backdrop" tabindex="-1" id="myModal" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Asistente de Cinekomuna</h5>
          <button type="button" class="closeModal" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <img src="/images/wizard/editProfile.png" class="img-fluid">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="hideWizard">No volver a mostrar</button>&nbsp;
          <button type="button" class="btn btn-secondary closeModal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  {{#if wizard}}
  <script>
    $('#myModal').show();
  </script>
  {{/if}}
  {{/if}}
{{else}}
  <div class="contanier text-center">
    <div class="spacer80"></div>
    No tienes permiso de ver esta página
    <div class="spacer80"></div>
  </div>  
{{/if}}
</template>