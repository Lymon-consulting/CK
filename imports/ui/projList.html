<template name="projList">
  <div class="container-fluid imageDivHeight"> <!--Imagen de fondo de página principal-->
      <section>
         <div class="container">
            <div class="row">
               <div class="col-md-12 col-lg-12 mx-auto"></div><!--Imagen con título en página principal-->
            </div>
         </div>
      </section>
   </div>     
   
  <div class="container">
    <div class="spacer20"></div>
    <div class="row">
      <div class="col-lg-3 rounded background-verylightgray p-3">
        <div class="sticky-top">
          <div class="row">
            <div>&nbsp;<i class="fa fa-sliders fa-sm"></i>&nbsp;Filtrar búsqueda</div>
          </div>
          <div class="spacer10"></div>
          <div class="row">
            <div class="col agreements">Opciones</div>
          </div>
          <div class="spacer10"></div>
          <div class="row">
            <div class="col">
              <select name="" id="searchType" class="form-control agreements">
               <option value="Proyectos" selected>Proyectos</option>
               <option value="Crew">Crew</option>
               <option value="Cast">Cast</option>
               <option value="Industrias">Empresas</option>
             </select>
            </div>
          </div>
          <div class="spacer10"></div>
          <div class="row">
            <div class="col agreements">Tipo</div>
          </div>
          <div class="spacer10"></div>
          <div class="row">
            <div class="col">
              <select class="form-control agreements" id="family">
                {{#each getProjectFamily}}
                <option value="{{firstLetter this}}" {{familySelected this}}> {{this}} </option>
                {{/each}}
              </select>
            </div>
          </div>
          <div class="spacer10"></div>
          <div class="row">
            <div class="col agreements">Nombre</div>
          </div>                  
          <div class="row">
            <div class="col agreements">
              {{> EasySearch.Input index=projectIndex event="enter" attributes=inputAttributes}}
              {{#EasySearch.IfSearching index=usersIndex}}{{/EasySearch.IfSearching}}
              {{#EasySearch.IfSearching index=industryIndex}}{{/EasySearch.IfSearching}}
            </div>
          </div>
          <div class="spacer10"></div>
          <div class="row">
            <div class="col agreements">Estatus</div>
          </div>
          <div class="spacer10"></div>
          <div class="row">
            <div class="col">
              <select class="form-control agreements" id="status">
                <option value="cualquier"> Cualquier estatus </option>
                {{#each getProjectStatus}}
                <option value="{{this}}" {{statusSelected this}}> {{this}} </option>
                {{/each}}
              </select>
            </div>
          </div>
          <div class="spacer10"></div>
          <div class="row">
            <div class="col agreements">Tipo</div>
          </div>
          <div class="spacer10"></div>
          <div class="row">
            <div class="col">
              <select class="form-control agreements" id="type">
                <option value="cualquier"> Cualquier tipo </option>
                {{#each getProjectType}}
                <option value="{{this}}" {{typeSelected this}}> {{this}} </option>
                {{/each}}
              </select>
            </div>
          </div>
          <div class="spacer10"></div>
          <div class="row">
            <div class="col agreements">Género</div>
          </div>
          <div class="spacer10"></div>
          <div class="row">
            <div class="col">
              <select class="form-control agreements" id="genre">
                <option value="cualquier"> Cualquier género </option>
                {{#each getProjectGender}}
                <option value="{{this}}" {{genreSelected this}}> {{this}} </option>
                {{/each}}
              </select>
            </div>
          </div>
          
        </div>
      </div>
      <div class="col-lg-9">
        <div class="container">
          <div class="row">
            <!-- Inicia contenido -->
            <div class="col-lg-12">
              <div class="container-fluid">
                <div class="row">
                  <div class="col agreements">Resultados: {{searchCount}}</div>
                </div>
                <div class="row">
                  <div class="col-lg-12"><hr></div>
                </div>
                {{#EasySearch.Each index=projectIndex}}
                <div class="row">
                  <div class="col-lg-4 col-md-2 vertical-align-top">
                     <a href="/projectPage/{{this.__originalId}}">
                     {{#if coverPicture this.__originalId 500}}
                        <img src="{{coverPicture this.__originalId 500}}" class="cover-thumbnail" />
                     {{else}}
                        <img src="/images/no-cover.jpg" class="cover-thumbnail">
                     {{/if}}
                     </a>
                  </div>
                  <div class="col-lg-6 col-md-8">
                    <div class="container-fluid">
                      <div class="row">
                        <div class="col">
                          <table class="table table-responsive borderless">
                            <tbody>
                              <tr>
                                <td class="no-padding text-no-wrap">
                                  <a href="/projectPage/{{this.__originalId}}"><h5 class="h5-name">{{this.project_title}}</h5></a>
                                </td>
                              </tr>
                              <tr>
                                <td class="no-padding text-no-wrap subtitle-underline">
                                  {{getFamily this.project_family}}
                                </td>
                              </tr>
                              {{#if this.project_status}}
                              <tr>
                                <td class="no-padding text-no-wrap subtitle-underline">
                                  {{getStatus this.project_status}}
                                </td>
                              </tr>
                              {{/if}}
                              {{#if this.project_type}}
                              <tr>
                                <td class="no-padding text-no-wrap subtitle-underline">
                                  {{this.project_type}}
                                </td>
                              </tr>
                              {{/if}}
                              {{#if this.project_genre}}
                              <tr>
                                 <td class="no-padding text-no-wrap location-underline">
                                    {{this.project_genre}}
                                 </td>
                              </tr>
                              {{/if}}
                              <tr>
                                <td class="text-no-wrap">
                                  <div class="row">
                                    <div class="col-md-6 numbers">
                                      <i class="fa fa-thumbs-up fa-sm"></i> <small>
                                      {{#if this.likes}}
                                          {{this.likes}}
                                      {{else}}
                                         0
                                      {{/if}}</small>
                                    </div>
                                    <div class="col-md-6 numbers">
                                      <i class="fa fa-eye fa-sm"></i> <small>
                                      {{#if this.views}}
                                         {{this.views}}
                                      {{else}}
                                         0
                                      {{/if}}</small>
                                    </div>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-2 col-md-2">
                    <a href="/profilePage/{{this.userId}}">
                    {{#if getProfilePicture this.userId 80}}
                      <img src="{{getProfilePicture this.userId 80}}"/>
                    {{else}}
                      <img src="/images/no-profile.jpg" class="img-round" />
                    {{/if}}
                    </a>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12"><hr></div>
                </div>
                {{/EasySearch.Each}}
                {{> EasySearch.LoadMore index=projectIndex content="Mostrar más"}}
                {{#EasySearch.IfNoResults index=projectIndex}}
                <div class="no-results">No se encontraron resultados</div>
                  {{/EasySearch.IfNoResults}}
                  {{#EasySearch.IfSearching index=projectIndex}}
                  <div>Buscando...</div>
                  {{/EasySearch.IfSearching}}
                  
                </div>
              </div>
              <!-- Fin contenido -->
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="spacer80"></div>
</template>
